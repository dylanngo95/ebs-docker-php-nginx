##############
# Default magento server
##############

server {
    listen 80 default_server;

    server_name  yt.mgt.lc;
    set $MAGE_ROOT /app/yt;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;

    error_log /var/log/nginx/error_log error;
}

##############
# SSL
##############

server {
    listen 443 default_server ssl http2;

    server_name  yt.mgt.lc;
    set $MAGE_ROOT /app/yt;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;
    include /opt/docker/etc/nginx/vhost.d/ssl.conf;

    error_log /var/log/nginx/error_log error;
}

server {
    listen 80;

    server_name  vng.mgt.lc;
    set $MAGE_ROOT /app/vng;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;

    error_log /var/log/nginx/error_log error;
}

##############
# SSL
##############

server {
    listen 443 ssl http2;

    server_name  vng.mgt.lc;
    set $MAGE_ROOT /app/vng;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;
    include /opt/docker/etc/nginx/vhost.d/ssl.conf;

    error_log /var/log/nginx/error_log error;
}


server {
    listen 80;

    server_name  vng-current.mgt.lc;
    set $MAGE_ROOT /app/vng_current;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;

    error_log /var/log/nginx/error_log error;
}

##############
# SSL
##############

server {
    listen 443 ssl http2;

    server_name  vng-current.mgt.lc;
    set $MAGE_ROOT /app/vng_current;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;
    include /opt/docker/etc/nginx/vhost.d/ssl.conf;

    error_log /var/log/nginx/error_log error;
}

server {
    listen 80;

    server_name  mgt24.mgt.lc;
    set $MAGE_ROOT /app/mgt24;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;

    error_log /var/log/nginx/error_log error;
}

##############
# SSL
##############

server {
    listen 443 ssl http2;

    server_name  mgt24.mgt.lc;
    set $MAGE_ROOT /app/mgt24;

    fastcgi_buffers 16 16k;
    fastcgi_buffer_size 32k;
    proxy_buffer_size 128k;
    proxy_buffers 4 256k;
    proxy_busy_buffers_size 256k;

    include /opt/docker/etc/nginx/vhost.d/mgt.conf;
    include /opt/docker/etc/nginx/vhost.d/ssl.conf;

    error_log /var/log/nginx/error_log error;
}